(function(){"use strict";var e={7522:function(e,t,n){var r=n(144),s=n(1096),i=n(2349),a=n(3551),o=function(){var e=this,t=e._self._c;return t(s.Z,[t(i.Z,{attrs:{app:"",color:"primary"}},[t("h2",{staticStyle:{color:"white"}},[e._v("Search for archlinux packages")])]),t(a.Z,[t("router-view")],1)],1)},c=[],l={name:"App",data:()=>({}),watch:{}},h=l,u=n(1001),d=(0,u.Z)(h,o,c,!1,null,null,null),p=d.exports,f=n(8345),g=n(1828),m=n(3058),y=n(5223),k=n(4437),b=n(1200),P=n(4192),v=n(248),Z=n(1908),S=n(9631),C=n(2776),I=n(5294),x=n(2680),_=n(3333),w=n(6878),T=n(7671),O=n(6052),G=n(7414),R=function(){var e=this,t=e._self._c;return t(b.Z,{staticStyle:{height:"100%"},attrs:{fluid:""}},[t(I.Z,{staticStyle:{transition:"height 0.2s","max-height":"500px"},style:e.searchBoxHeightStyle},[t(k.Z,{attrs:{cols:3}}),t(k.Z,{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"},attrs:{cols:6}},[t(G.Z,{attrs:{label:"输入包名",clearable:"",rounded:"",solo:"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendSearchRequest.apply(null,arguments)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.searchResultVisible=!1}],"click:clear":function(t){e.searchResultVisible=!1}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),t(g.Z,{staticStyle:{"margin-left":"40px","font-weight":"bold","font-size":"18px"},attrs:{"min-width":"150px",large:"",color:"primary",rounded:""},on:{click:e.sendSearchRequest}},[e._v(" "+e._s("搜 索")+" ")])],1),t(k.Z,{attrs:{cols:3}})],1),e.searchResultVisible?t(I.Z,{staticStyle:{height:"auto","min-height":"85%"}},[t(m.Z,{staticStyle:{width:"100%",margin:"20px",height:"auto","min-height":"100%"}},[t(y.EB,{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e.searchHit?t("h3",[e._v(" package: "+e._s(e.previousSearchInput)+" ")]):t("h3",[e._v(" 没有符合结果的软件包，您是否在找： ")])]),e.searchHit?t(P.Z,{staticStyle:{margin:"0 20px 0 20px"}}):t(P.Z,{staticStyle:{margin:"0 200px 0 200px"}}),e.searchHit?t("div",{staticStyle:{width:"100%",background:"antiquewhite"}},[t(T.Z,{model:{value:e.successTabIndex,callback:function(t){e.successTabIndex=t},expression:"successTabIndex"}},[t(_.Z,{key:0},[e._v("依赖关系")]),t(_.Z,{key:1},[e._v("相似包")])],1),t(O.Z,{model:{value:e.successTabIndex,callback:function(t){e.successTabIndex=t},expression:"successTabIndex"}},[t(w.Z,{key:0},[t(I.Z,{staticStyle:{padding:"10px"}},[t(k.Z,{attrs:{cols:2}},[t(v.Z,[t(x.Z,[e._v("关系选择")]),t(C.Z,{attrs:{color:"primary"},on:{change:function(t){return e.listGroupChanged()}},model:{value:e.depSelected,callback:function(t){e.depSelected=t},expression:"depSelected"}},[t(Z.Z,{key:"0"},[t(S.km,[t(S.V9,[e._v("grand parents")])],1)],1),t(Z.Z,{key:"1"},[t(S.km,[t(S.V9,[e._v("parents")])],1)],1),t(Z.Z,{key:"2"},[t(S.km,[t(S.V9,[e._v("children")])],1)],1),t(Z.Z,{key:"3"},[t(S.km,[t(S.V9,[e._v("grandChildren")])],1)],1)],1)],1)],1),t(k.Z,{attrs:{cols:10}},[e._v(" "+e._s(e.packageNameDisplayed)+" ")])],1)],1),t(w.Z,{key:1},[t(I.Z,{staticStyle:{padding:"10px"}},[t(k.Z,{attrs:{cols:2}},[t(v.Z,[t(x.Z,[e._v("关系选择")]),t(C.Z,{attrs:{color:"primary"},on:{change:function(t){return e.listGroupChanged()}},model:{value:e.simSelected,callback:function(t){e.simSelected=t},expression:"simSelected"}},[t(Z.Z,{key:"0"},[t(S.km,[t(S.V9,[e._v("grand parents")])],1)],1),t(Z.Z,{key:"1"},[t(S.km,[t(S.V9,[e._v("parents")])],1)],1),t(Z.Z,{key:"2"},[t(S.km,[t(S.V9,[e._v("children")])],1)],1),t(Z.Z,{key:"3"},[t(S.km,[t(S.V9,[e._v("grandChildren")])],1)],1)],1)],1)],1),t(k.Z,{attrs:{cols:10}},[e._v(" "+e._s(e.packageNameDisplayed)+" ")])],1)],1)],1)],1):t("div",{staticStyle:{width:"100%"}},e._l(e.possiblePackagesTop40,(function(n){return t(Z.Z,{key:n.id,attrs:{dense:""}},[t(S.km,[t(S.V9,{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e._v(e._s(n.name)+" ")])],1)],1)})),1),t("div",{staticStyle:{height:"10px"}})],1)],1):e._e()],1)},V=[],j=n(629),E=n(594);const q=E.Z.create({baseURL:"http://172.19.240.113:8000/",headers:{},timeout:12e4,withCredentials:!0});q.interceptors.request.use((e=>(localStorage.getItem("token")&&(e.headers.Authorization="Bearer "+localStorage.getItem("token")),e))),q.interceptors.response.use((e=>(console.log("axios response",e),200===e.status?[e.data,null]:(console.log("request failed with code ",e.status),[null,e]))),(e=>(console.log("error.response",e.response),[null,e])));var H={flinkGetTag:function(e){return q({url:"/flink/getSingleTag?tag="+e,method:"GET"})},sparkGetTag:function(e){return q({url:"/spark/getSingleTag?tag="+e,method:"GET"})},flinkGetAllTags:function(){return q({url:"/flink/getAllTag",method:"GET"})},searchRequest:function(e){return q({url:"/search/"+e,method:"GET"})}},B={name:"Home",components:{},data(){return{successTabIndex:0,searchInput:"",searchResultVisible:!1,searchResult:{},depParentChildInfo:{},simParentChildInfo:{},possiblePackages:[],searchHit:!1,previousSearchInput:"",depSelected:0,simSelected:0}},watch:{curTab(){console.log("curTabChanged",this.curTab),this.getData()}},computed:{...(0,j.Se)(["curTab"]),searchBoxHeightStyle:function(){return this.searchResultVisible?{height:"15%"}:{height:"60%"}},depGrandParents:function(){return this.depParentChildInfo.hasOwnProperty("grandParents")?this.depParentChildInfo.grandParents:[]},depParents:function(){return this.depParentChildInfo.hasOwnProperty("parents")?this.depParentChildInfo.parents:[]},depChildren:function(){return this.depParentChildInfo.hasOwnProperty("children")?this.depParentChildInfo.children:[]},depGrandChildren:function(){return this.depParentChildInfo.hasOwnProperty("grandChildren")?this.depParentChildInfo.grandChildren:[]},simGrandParents:function(){return this.simParentChildInfo.hasOwnProperty("grandParents")?this.simParentChildInfo.grandParents:[]},simParents:function(){return this.simParentChildInfo.hasOwnProperty("parents")?this.simParentChildInfo.parents:[]},simChildren:function(){return this.simParentChildInfo.hasOwnProperty("children")?this.simParentChildInfo.children:[]},simGrandChildren:function(){return this.simParentChildInfo.hasOwnProperty("grandChildren")?this.simParentChildInfo.grandChildren:[]},packageNameDisplayed:function(){let e=[];if(0===this.successTabIndex)switch(this.depSelected){case 0:e=this.depGrandParents;break;case 1:e=this.depParents;break;case 2:e=this.depChildren;break;case 3:e=this.depGrandChildren;break}else switch(this.simSelected){case 0:e=this.simGrandParents;break;case 1:e=this.simParents;break;case 2:e=this.simChildren;break;case 3:e=this.simGrandChildren;break}if(0===e.length||e[0].name===this.previousSearchInput)return"无";let t="";for(let n of e)n.name!==this.previousSearchInput&&(t+=n.name,t+=", ");return t=t.substring(0,t.length-2),t},possiblePackagesTop40:function(){return this.possiblePackages.splice(0,40)}},methods:{listGroupChanged(){console.log("list group changed")},async sendSearchRequest(){if(null==this.searchInput||0===this.searchInput.length)return;this.searchResult={},this.simParentChildInfo={},this.depParentChildInfo={},this.possiblePackages=[],this.simSelected=0,this.depSelected=0,this.successTabIndex=0;const[e,t]=await H.searchRequest(this.searchInput);t||(this.searchHit=e.hit,this.previousSearchInput=this.searchInput,this.searchResult=e,e.hit?(this.depParentChildInfo=e.depParentChildInfo,this.simParentChildInfo=e.simParentChildInfo):this.possiblePackages=e.possiblePackages),this.searchResultVisible=!0}}},A=B,D=(0,u.Z)(A,R,V,!1,null,null,null),M=D.exports;r.ZP.use(f.ZP);const N=[{path:"/",name:"home",component:M}],z=()=>new f.ZP({scrollBehavior:()=>({y:0}),routes:N}),F=z();var L=F;r.ZP.use(j.ZP);var U=new j.ZP.Store({state:{curTab:0},getters:{curTab(e){return e.curTab}},mutations:{changeCurTab(e,t){e.curTab=t}},actions:{},modules:{}}),$=n(3806);r.ZP.use($.Z);var J=new $.Z({icons:{iconfont:"mdi"}});r.ZP.config.productionTip=!1,new r.ZP({router:L,store:U,vuetify:J,render:e=>e(p)}).$mount("#app")}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,i){if(!r){var a=1/0;for(h=0;h<e.length;h++){r=e[h][0],s=e[h][1],i=e[h][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(o=!1,i<a&&(a=i));if(o){e.splice(h--,1);var l=s();void 0!==l&&(t=l)}}return t}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[r,s,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,i,a=r[0],o=r[1],c=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(c)var h=c(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(h)},r=self["webpackChunkpackage_search"]=self["webpackChunkpackage_search"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(7522)}));r=n.O(r)})();
//# sourceMappingURL=app.41d7d06e.js.map